<!DOCTYPE html>
<html>
<head>
    <meta Charset="UTF-8" name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <title>history</title>
</head>

<body>
history...
<a href="./history1.html">下一页</a>
<script>
 //   var len = window.history.length;
 //   console.log(len);
//
//    window.addEventListener('popstate', function(e) {
//        alert('back');
//    }, false);
//
////    window.onpopstate = function(event) {
////        alert("location: " + document.location + ", state: " + JSON.stringify(event.state));
////    };
//    window.onbeforeunload = function(){
//        console.log('aa')
//        history.replaceState({page:3}, "page 3", "this.html")
//        return true;
//    }

     pushHistory();
     window.addEventListener("popstate",handlClick, false);
     function pushHistory() {
         var state = {
             title: "title",
             url: ""
         };
         window.history.pushState(state, "title", "");
     }
     function handlClick (){
         var len = window.history.length;
         console.log(len);
         history.go(`-${len-1}`)
     }
</script>
</body>
</html>